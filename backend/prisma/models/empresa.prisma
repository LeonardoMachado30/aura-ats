enum TipoSocio {
    REPRESENTANTE
    SOCIO
    ADMINISTRADOR
}

model Empresa {
    id             String           @id @default(uuid())
    razaoSocial    String
    cnpj           String           @unique
    dataAbertura   DateTime?
    contatos       Contato[]
    localizacoes   Localizacao[]
    usuarioSistema UsuarioSistema[]
    socios         Socio[]
    representantes Pessoa[]         @relation("EmpresaRepresentantes")
    cliente        Cliente?
    createdAt      DateTime         @default(now())
    updatedAt      DateTime         @updatedAt
}

model Socio {
    id        String    @id @default(uuid())
    pessoaId  String
    empresaId String
    tipoSocio TipoSocio

    pessoa  Pessoa  @relation(fields: [pessoaId], references: [id])
    empresa Empresa @relation(fields: [empresaId], references: [id])

    @@unique([pessoaId, empresaId])
}
