model Empresa {
  id             String          @id @default(uuid())
  razaoSocial    String
  cnpj           String
  dataAbertura   DateTime?
  createdAt      DateTime        @default(now())
  updatedAt      DateTime        @updatedAt
  nomeFantasia   String          @default("")
  cliente        Cliente?
  contatos       Contato[]
  localizacoes   Localizacao[]
  representantes Pessoa[]        @relation("EmpresaRepresentantes")
  socios         Socio[]
  usuarioSistema UsuarioSistema?

  @@unique([cnpj])
}

model Socio {
  id        String    @id @default(uuid())
  pessoaId  String
  empresaId String
  tipoSocio TipoSocio
  empresa   Empresa   @relation(fields: [empresaId], references: [id])
  pessoa    Pessoa    @relation(fields: [pessoaId], references: [id])

  @@unique([pessoaId, empresaId])
}

enum TipoSocio {
  REPRESENTANTE
  SOCIO
  ADMINISTRADOR
}
